(this["webpackJsonplights-out-ts"]=this["webpackJsonplights-out-ts"]||[]).push([[0],[,,,,,,,,,function(e,t,n){e.exports=n(19)},,,,,function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){"use strict";n.r(t);var r,i,o,a=n(0),s=n.n(a),u=n(7),c=n.n(u),d=(n(14),n(15),n(8)),l=n(1),g=n(2),f=n(4),h=n(3),p=n(5);n(16);!function(e){e[e.TL=0]="TL",e[e.TR=1]="TR",e[e.BL=2]="BL",e[e.BR=3]="BR",e[e.NONE=4]="NONE",e[e.ALL=5]="ALL"}(r||(r={})),function(e){e.ABSENT="absent",e.SINKING="sinking",e.SUNK="sunk",e.TURNING="turning",e.RETURNING="returning"}(i||(i={})),function(e){e.IN="in",e.OUT="out"}(o||(o={}));var S=function(e){function t(){var e,n;Object(l.a)(this,t);for(var r=arguments.length,a=new Array(r),s=0;s<r;s++)a[s]=arguments[s];return(n=Object(f.a)(this,(e=Object(h.a)(t)).call.apply(e,[this].concat(a)))).state={innerState:i.ABSENT,outerState:o.OUT},n.computeSizeCss=function(){return{width:n.props.width+"px",height:n.props.height+"px"}},n.enterHandler=function(){n.props.beenEntered(n.props.index)},n.leaveHandler=function(){n.props.beenLeft(n.props.index)},n.sink=function(){switch(n.state.innerState){case i.ABSENT:case i.RETURNING:return void n.setState({innerState:i.SINKING,outerState:o.IN});default:return void n.setState({outerState:o.IN})}},n.unSink=function(){[i.SINKING,i.SUNK].includes(n.state.innerState)?n.setState({innerState:i.ABSENT,outerState:o.OUT}):n.setState({outerState:o.OUT})},n.clickHandler=function(){n.props.beenClicked(n.props.index)},n.turn=function(){switch(n.state.innerState){case i.SINKING:case i.SUNK:return void n.setState({innerState:i.TURNING});default:return}},n.handleTransitionEnd=function(e){e.persist();n.setState((function(t){if("font-size"===e.propertyName)switch(t.innerState){case i.SINKING:return{innerState:i.SUNK}}if("font-weight"===e.propertyName)switch(t.innerState){case i.TURNING:return n.props.toggleMe(n.props.index),{innerState:i.RETURNING};case i.RETURNING:return t.outerState===o.OUT?{innerState:i.ABSENT}:{innerState:i.SUNK}}}))},n}return Object(p.a)(t,e),Object(g.a)(t,[{key:"render",value:function(){var e=this.state.innerState===i.TURNING,t=this.sunkStates.includes(this.state.innerState),n="ColorBoxLightsOut"+(e?" turning":"")+(t?" sunk":"")+(this.props.isTargeted&&t&&![i.RETURNING,i.RETURNING,i.ABSENT].includes(this.state.innerState)?" targeted":"")+this.getCornerRoundingClass()+(this.props.frozen?" frozen":"");return s.a.createElement("div",{className:n,style:this.computeSizeCss(),onMouseEnter:this.enterHandler,onMouseLeave:this.leaveHandler},s.a.createElement("div",{className:"inner"+(this.props.active?"":" transparent"),onClick:this.clickHandler,onTransitionEnd:this.handleTransitionEnd}))}},{key:"componentDidUpdate",value:function(e,t){e.turnTrigger<this.props.turnTrigger&&this.turn(),e.sinkTrigger<this.props.sinkTrigger&&this.sink(),e.sinkTrigger>this.props.sinkTrigger&&this.unSink()}},{key:"getCornerRoundingClass",value:function(){switch(this.props.rounded){case r.TL:return" top-left-rounded";case r.TR:return" top-right-rounded";case r.BL:return" bottom-left-rounded";case r.BR:return" bottom-right-rounded";case r.ALL:return" all-rounded";case r.NONE:return""}}},{key:"sunkStates",get:function(){return[i.SINKING,i.SUNK,i.RETURNING]}}]),t}(s.a.Component),N=(n(17),n(18),function(e){function t(e){var n;return Object(l.a)(this,t),(n=Object(f.a)(this,Object(h.a)(t).call(this,e))).boxSize=n._computeBoxSize(),n.boxes=function(){return n.props.renderBoxes(n.boxSize)},document.documentElement.style.setProperty("--duration",e.durationInSec+""),n}return Object(p.a)(t,e),Object(g.a)(t,[{key:"_computePaddingInPage",value:function(){return 2*this.props.margin}},{key:"_computeBoxSize",value:function(){return Math.floor((Math.min(window.innerWidth,window.innerHeight)-this._computePaddingInPage())/this.props.numberOfBoxesPerSide)}},{key:"render",value:function(){var e={"--size":this._computeBoxSize()*this.props.numberOfBoxesPerSide+"px"};return s.a.createElement("div",{className:"GalleryLayout",style:e},this.boxes())}}]),t}(s.a.Component)),m=function(e){function t(){var e,n;Object(l.a)(this,t);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return(n=Object(f.a)(this,(e=Object(h.a)(t)).call.apply(e,[this].concat(i)))).config={numberOfBoxesPerSide:10,margin:120,durationInSec:.2,allRounded:!1},n.state={active:n.initializeWinnableConfig(2*n.config.numberOfBoxesPerSide),targetedBoxes:new Array(Math.pow(n.config.numberOfBoxesPerSide,2)).fill(!1),turnTriggers:new Array(Math.pow(n.config.numberOfBoxesPerSide,2)).fill(0),sinkTriggers:new Array(Math.pow(n.config.numberOfBoxesPerSide,2)).fill(0)},n.renderBoxes=function(e){return new Array(Math.pow(n.config.numberOfBoxesPerSide,2)).fill("").map((function(t,r){return s.a.createElement(S,{frozen:!n.gameOn,width:e,height:e,index:r,active:n.state.active[r],rounded:n.cornerToRound(r),isTargeted:n.state.targetedBoxes[r],turnTrigger:n.state.turnTriggers[r],sinkTrigger:n.state.sinkTriggers[r],beenClicked:n.handleClicked,beenEntered:n.handleEntered,beenLeft:n.handleLeft,toggleMe:n.toggleTargetedBox,key:r})}))},n.handleEntered=function(e){return n.setState((function(t){return n.sinkAroundIndex(t,e)}))},n.handleLeft=function(e){return n.setState((function(t){return n.unSinkAroundIndex(t,e)}))},n.handleClicked=function(e){return n.setState((function(t){return n.turnAroundIndex(t,e)}))},n.toggleTargetedBox=function(e){n.setState((function(t){var n=t.active.slice();return n[e]=!n[e],{active:n}}))},n}return Object(p.a)(t,e),Object(g.a)(t,[{key:"initializeWinnableConfig",value:function(e){for(var t=Math.pow(this.config.numberOfBoxesPerSide,2),n=new Array(t).fill(!1),r=0;r<18;r++){var i=Math.floor(Math.random()*t);this.getRegionAroundIndex(i).forEach((function(e){return n[e]=!n[e]}))}return n}},{key:"render",value:function(){var e=Object(d.a)({renderBoxes:this.renderBoxes},this.config),t=this.gameOn?"Lights Out":"Totally Nailed It!",n="lightsout"+(this.gameOn?"":" finished");return s.a.createElement(s.a.Fragment,null,s.a.createElement("h1",{className:n},t),s.a.createElement(N,e))}},{key:"getRegionAroundIndex",value:function(e){var t=this.config.numberOfBoxesPerSide,n=[e];return e%t!==0&&n.push(e-1),e%t!==t-1&&n.push(e+1),e>=t&&n.push(e-t),e+t<Math.pow(t,2)&&n.push(e+t),n}},{key:"sinkAroundIndex",value:function(e,t){var n=e.sinkTriggers.slice(),r=e.targetedBoxes.slice();return this.getRegionAroundIndex(t).forEach((function(e){n[e]++,r[e]=!0})),{sinkTriggers:n,targetedBoxes:r}}},{key:"unSinkAroundIndex",value:function(e,t){var n=e.sinkTriggers.slice(),r=e.targetedBoxes.slice();return this.getRegionAroundIndex(t).forEach((function(e){n[e]--,r[e]=!1})),{sinkTriggers:n,targetedBoxes:r}}},{key:"turnAroundIndex",value:function(e,t){var n=e.turnTriggers.slice(),r=e.targetedBoxes.slice();return this.getRegionAroundIndex(t).forEach((function(e){n[e]++})),{turnTriggers:n,targetedBoxes:r}}},{key:"cornerToRound",value:function(e){return this.config.allRounded?r.ALL:0===e?r.TL:e===this.config.numberOfBoxesPerSide-1?r.TR:e===Math.pow(this.config.numberOfBoxesPerSide,2)-this.config.numberOfBoxesPerSide?r.BL:e===Math.pow(this.config.numberOfBoxesPerSide,2)-1?r.BR:r.NONE}},{key:"gameOn",get:function(){return this.state.active.some((function(e){return e}))}}]),t}(s.a.Component),T=function(){return s.a.createElement("div",{className:"App"},s.a.createElement(m,null))};c.a.render(s.a.createElement(T,null),document.getElementById("root"))}],[[9,1,2]]]);
//# sourceMappingURL=main.d4a61418.chunk.js.map